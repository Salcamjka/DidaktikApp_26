<?xml version="1.0" encoding="utf-8"?>
<!-- ScrollView principal que permite desplazamiento vertical en toda la pantalla -->
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/mainScrollView"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fillViewport="true"
    android:background="@color/mi_fondo_pantalla">

    <!-- LinearLayout contenedor principal -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">

        <!-- ======================================================================= -->
        <!-- SECCIÓN 1: CONTENEDOR DE INTRODUCCIÓN (Explicación de la fuente)      -->
        <!-- ======================================================================= -->
        <LinearLayout
            android:id="@+id/contenedorIntro"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical"
            android:padding="16dp"
            android:visibility="visible">

            <!-- Barra superior: Botón volver + Título -->
            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="8dp">

                <!-- Botón para volver al mapa principal -->
                <ImageButton
                    android:id="@+id/btnVolverMapa"
                    android:layout_width="40dp"
                    android:layout_height="40dp"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:scaleType="fitCenter"
                    android:src="@drawable/mapaimg"
                    android:contentDescription="Volver al mapa"
                    android:layout_alignParentStart="true"
                    android:layout_centerVertical="true"
                    android:layout_marginEnd="8dp"/>

                <!-- Título de la actividad: "Txakurraren Iturria" -->
                <TextView
                    android:id="@+id/tvTituloIntro"
                    android:layout_width="368dp"
                    android:layout_height="38dp"
                    android:layout_alignParentEnd="true"
                    android:layout_marginStart="-40dp"
                    android:layout_marginEnd="3dp"
                    android:layout_toEndOf="@+id/btnVolverMapa"
                    android:gravity="center"
                    android:text="Txakurraren Iturria"
                    android:textColor="@color/txakurra"
                    android:textSize="28sp"
                    android:textStyle="bold" />
            </RelativeLayout>

            <!-- Primer párrafo de texto informativo (siempre visible) -->
            <TextView
                android:id="@+id/tvTextoIntro1"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Iturri hau izen bera duen kalean aurkitzen da; zehazki, Txakur kalean. Orain dela urte asko eraiki zen iturria dugu aurrean. Ikusten duzuenez, iturriak lehoi buru forma duen brontzezko hiru txorrota ditu. Baina, zergatik deitzen da, beraz, Txakur Iturria?"
                android:textSize="18sp"
                android:textColor="@color/black"
                android:textAlignment="center"
                android:lineSpacingExtra="3dp"
                android:layout_marginBottom="4dp"/>

            <!-- Segundo párrafo de texto informativo (expandible, oculto por defecto) -->
            <TextView
                android:id="@+id/tvTextoIntro2"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Historian zehar eztabaida handiak sortu dira jendearen artean eta guztien artean 2 kondaira desberdintzen dira:\n\n1. Lehenengoaren arabera, iturria eraiki zenean, bilbotarrek ez zuten lehoiaren itxura ezagutzen, ez zekiten nolakoa zen; ez zuten inoiz lehoirik ikusi. Orduan iturria ikustean, txakurrak zirela pentsatu zuten.\n\n2. Bigarrenak aldiz, kontatzen du kale horretan gizon bat bizi zela, eta etxeko fatxadan lehoi baten eskultura jartzea erabaki zuela, bere etxea zaintzeko. Gainontzeko pertsonek barre egiten zuten txakurra zirudiela esanez. Denborarekin, txantxa sendotuz joan zen, kaleari eta ondoren iturriari izena eman arte.\n\nModu horretan, denboraren poderioz, iritzi desberdinak sortu dira."
                android:textSize="18sp"
                android:textColor="@color/black"
                android:textAlignment="center"
                android:lineSpacingExtra="3dp"
                android:visibility="gone"
                android:layout_marginBottom="4dp"/>

            <!-- Botón de texto para expandir/colapsar la información adicional -->
            <TextView
                android:id="@+id/tvLeerMas"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Irakurri gehiago ▼"
                android:textSize="16sp"
                android:textStyle="bold"
                android:textColor="@color/black"
                android:layout_gravity="center"
                android:padding="8dp"
                android:clickable="true"
                android:focusable="true"
                android:layout_marginBottom="12dp"/>

            <!-- Reproductor de audio con botón play/pause y barra de progreso -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:layout_marginTop="8dp"
                android:layout_marginBottom="20dp"
                android:paddingHorizontal="16dp">

                <!-- Botón de reproducción/pausa del audio -->
                <ImageButton
                    android:id="@+id/btnPlayPauseIcon"
                    android:layout_width="40dp"
                    android:layout_height="40dp"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:src="@android:drawable/ic_media_play"
                    app:tint="@color/black"
                    android:contentDescription="Reproducir audio" />

                <!-- Barra de progreso del audio -->
                <SeekBar
                    android:id="@+id/seekBarAudio"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:layout_marginStart="12dp"
                    android:progressTint="@color/txakurra"
                    android:thumbTint="@color/txakurra" />
            </LinearLayout>

            <!-- Imagen decorativa del león (se oculta cuando se expande el texto) -->
            <ImageView
                android:id="@+id/ivLeonExplicacion"
                android:layout_width="150dp"
                android:layout_height="150dp"
                android:layout_gravity="center"
                android:src="@drawable/leonexplicacion"
                android:layout_marginBottom="10dp"
                android:scaleType="fitCenter"
                android:contentDescription="Leon Explicacion"/>

            <!-- Espacio flexible que empuja el botón hacia abajo -->
            <Space
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:layout_weight="1" />

            <!-- Botón para pasar de la introducción al juego de la tabla -->
            <Button
                android:id="@+id/btnContinuar"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_marginTop="8dp"
                android:layout_marginBottom="32dp"
                android:backgroundTint="@color/txakurra"
                android:paddingHorizontal="32dp"
                android:paddingVertical="12dp"
                android:text="Hasi Taula"
                android:textColor="@android:color/white"
                android:textSize="17sp"
                android:textStyle="bold" />

        </LinearLayout>

        <!-- ======================================================================= -->
        <!-- SECCIÓN 2: CONTENEDOR DE LA TABLA (Juego de características)          -->
        <!-- ======================================================================= -->
        <LinearLayout
            android:id="@+id/contenedorTabla"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical"
            android:padding="16dp"
            android:visibility="gone">

            <!-- Título de la sección de la tabla -->
            <TextView
                android:id="@+id/tvTituloTabla"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Txakurraren Iturria"
                android:textSize="28sp"
                android:textStyle="bold"
                android:textColor="@color/txakurra"
                android:layout_gravity="center"
                android:layout_marginBottom="8dp"/>

            <!-- Contenedor horizontal de las dos columnas (Perro y León) -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:orientation="horizontal"
                android:weightSum="2">

                <!-- ========== COLUMNA IZQUIERDA: TXAKURRA (PERRO) ========== -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="8dp">

                    <!-- Imagen del perro -->
                    <ImageView
                        android:id="@+id/ivPerro"
                        android:layout_width="100dp"
                        android:layout_height="100dp"
                        android:src="@drawable/perro"
                        android:scaleType="centerCrop"/>

                    <!-- Etiqueta "TXAKURRA" - Es solo un título informativo, NO clickeable -->
                    <!-- Mantiene fondo de color para coherencia visual con el diseño -->
                    <TextView
                        android:id="@+id/tvLabelTxakurra"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="TXAKURRA"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:background="@color/txakurra"
                        android:textColor="@android:color/white"
                        android:padding="8dp"
                        android:clickable="false"
                        android:focusable="false"/>
                </LinearLayout>

                <!-- ========== COLUMNA DERECHA: LEHOIA (LEÓN) ========== -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="8dp">

                    <!-- Imagen del león -->
                    <ImageView
                        android:id="@+id/ivLeon"
                        android:layout_width="100dp"
                        android:layout_height="100dp"
                        android:src="@drawable/leon"
                        android:scaleType="centerCrop"/>

                    <!-- Etiqueta "LEHOIA" - Es solo un título informativo, NO clickeable -->
                    <!-- Mantiene fondo de color para coherencia visual con el diseño -->
                    <TextView
                        android:id="@+id/tvLabelLehoia"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="LEHOIA"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:background="@color/txakurra"
                        android:textColor="@android:color/white"
                        android:padding="8dp"
                        android:clickable="false"
                        android:focusable="false"/>
                </LinearLayout>
            </LinearLayout>

            <!-- Instrucción para el usuario -->
            <TextView
                android:id="@+id/tvInstruccionTabla"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:text="Aipatu 5 ezaugarri:"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="@color/black"
                android:gravity="center"/>

            <!-- ========== TABLA DE CAMPOS DE TEXTO EDITABLES ========== -->
            <!-- Contenedor con borde gris que contiene las dos columnas de inputs -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:orientation="horizontal"
                android:background="#9E9E9E"
                android:padding="2dp">

                <!-- ========== COLUMNA IZQUIERDA: 5 CAMPOS PARA TXAKURRA ========== -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:layout_marginEnd="1dp">

                    <!-- Campo 1: FAMILIA MOTA (Tipo de familia) -->
                    <EditText
                        android:id="@+id/etTxakurra1"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="FAMILIA MOTA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 2: BIZILEKUA (Hábitat) -->
                    <EditText
                        android:id="@+id/etTxakurra2"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="BIZILEKUA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 3: JANARI MOTA (Tipo de comida) -->
                    <EditText
                        android:id="@+id/etTxakurra3"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="JANARI MOTA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 4: SOINUA (Sonido que hace) -->
                    <EditText
                        android:id="@+id/etTxakurra4"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="SOINUA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 5: TAMAINA (Tamaño) -->
                    <EditText
                        android:id="@+id/etTxakurra5"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="TAMAINA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:inputType="textCapSentences"/>
                </LinearLayout>

                <!-- ========== COLUMNA DERECHA: 5 CAMPOS PARA LEHOIA ========== -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:layout_marginStart="1dp">

                    <!-- Campo 1: FAMILIA MOTA (Tipo de familia) -->
                    <EditText
                        android:id="@+id/etLehoia1"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="FAMILIA MOTA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 2: BIZILEKUA (Hábitat) -->
                    <EditText
                        android:id="@+id/etLehoia2"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="BIZILEKUA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 3: JANARI MOTA (Tipo de comida) -->
                    <EditText
                        android:id="@+id/etLehoia3"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="JANARI MOTA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 4: SOINUA (Sonido que hace) -->
                    <EditText
                        android:id="@+id/etLehoia4"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="SOINUA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:layout_marginBottom="2dp"
                        android:inputType="textCapSentences"/>

                    <!-- Campo 5: TAMAINA (Tamaño) -->
                    <EditText
                        android:id="@+id/etLehoia5"
                        android:layout_width="match_parent"
                        android:layout_height="50dp"
                        android:hint="TAMAINA"
                        android:padding="8dp"
                        android:textSize="18sp"
                        android:textColor="@color/black"
                        android:textColorHint="@color/grey"
                        android:background="@android:color/white"
                        android:inputType="textCapSentences"/>
                </LinearLayout>
            </LinearLayout>

            <!-- GIF de resultado (león feliz o triste según puntuación) -->
            <!-- Se muestra solo al terminar todos los campos -->
            <ImageView
                android:id="@+id/ivGifResultado"
                android:layout_width="200dp"
                android:layout_height="200dp"
                android:layout_gravity="center"
                android:src="@drawable/leonfeliz"
                android:visibility="gone"
                android:layout_marginTop="20dp"
                android:layout_marginBottom="10dp"/>

            <!-- Botón de finalizar actividad -->
            <!-- Deshabilitado hasta completar las 10 respuestas -->
            <Button
                android:id="@+id/btnFinish"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_marginTop="10dp"
                android:layout_marginBottom="24dp"
                android:text="Amaitu Jarduera"
                android:textSize="16sp"
                android:textStyle="bold"
                android:enabled="false"
                android:backgroundTint="@color/boton_desactivado"
                android:textColor="@android:color/white"
                android:paddingHorizontal="32dp"/>

        </LinearLayout>
    </LinearLayout>
</ScrollView>